<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Quiz - <%= quiz.title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/quiz-detail.css">
</head>
<body>
    <%- include('../partials/navbar') %>
    <%- include('../partials/header') %>
    
    <div class="container">
        <div class="glass-card">
            <h2 class="text-center mb-4"><%= quiz.title %></h2>
            <% if (quiz.description) { %>
                <p class="quiz-description mb-4"><%= quiz.description %></p>
            <% } %>

            <div class="questions-list">
                <% quiz.questions.forEach((question, qIndex) => { %>
                    <div class="question-block glass-card mb-4">
                        <h5>Question <%= qIndex + 1 %></h5>
                        <p class="question-text"><%= question.questionText %></p>
                        
                        <div class="options-list">
                            <% question.options.forEach((option, oIndex) => { %>
                                <div class="option-item <%= oIndex === question.correctAnswer ? 'correct-answer' : '' %>">
                                    <span class="option-number"><%= oIndex %></span>
                                    <span class="option-text"><%= option %></span>
                                    <% if (oIndex === question.correctAnswer) { %>
                                        <span class="badge bg-success">Correct Answer</span>
                                    <% } %>
                                </div>
                            <% }) %>
                        </div>
                    </div>
                <% }) %>
            </div>

            <div class="actions mt-4">
                <a href="/quizzes" class="btn btn-glass">Back to Quizzes</a>
            </div>
        </div>
    </div>

    <style>
    .option-item {
        padding: 0.5rem 1rem;
        margin: 0.5rem 0;
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        background: rgba(255, 255, 255, 0.1);
    }

    .correct-answer {
        background: rgba(40, 167, 69, 0.2);
        border: 1px solid rgba(40, 167, 69, 0.4);
    }

    .option-number {
        background: rgba(255, 255, 255, 0.2);
        padding: 0.2rem 0.6rem;
        border-radius: 0.3rem;
        font-weight: bold;
    }

    .badge {
        margin-left: auto;
    }
    </style>

    <%- include('../partials/footer') %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
